<!DOCTYPE html>
<html>

<head>
  <title>Autodesk Forge - BIM 360 Assets</title>
  <meta charset="utf-8" />
  <link rel="shortcut icon" href="https://github.com/Autodesk-Forge/learn.forge.viewhubmodels/raw/master/img/favicon.ico">
  <link rel="stylesheet" href="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/style.min.css" />
  <script src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js"></script>
  <!-- <link rel="stylesheet" href="https://d1i0g0djlrabur.cloudfront.net/assets-5/dist/main.bundle.css" /> -->
  <link rel="stylesheet" href="../dist/timeslider.css" />
  <script src="../dist/timeslider.js"></script>

  <style>
    html,
    body {
        min-height: 100%;
        height: 100%;
        margin: 0 0;
        overflow: hidden;
    }
  </style>
  
</head>

<body>
    <div id="timeline" style="width: 75%; height: 120px;"></div>
    <script>
        var currDate = new Date();
        currDate.setUTCHours(0, 0, 0, 0);
        var endDate = new Date(currDate.getTime() + 1 * 24 * 60 * 60 * 1000);
        endDate.setUTCHours(0, 0, 0, 0);
        var startDate = new Date(currDate.getTime() - 14 * 24 * 60 * 60 * 1000);
        startDate.setUTCHours(0, 0, 0, 0);

        var timeOptions = new Autodesk.DataVisualization.UI.TimeOptions(startDate, endDate, currDate);
        var timeSliderOptions = {
            timeOptions,
            handleTimeRangeUpdated: (startTime, endTime, currentTime) => console.log(startTime, endTime, currentTime),
            handleCurrentTimeUpdated: (currentTime) => console.log(currentTime)
        };
        var timeSlider = new Autodesk.DataVisualization.UI.ChronosTimeSliderControl(document.getElementById('timeline'), timeSliderOptions);

        timeSlider.addEventListener(
            Autodesk.DataVisualization.UI.TIME_SLIDER_CONTROL_INITIALIZED_EVENT,
            (event) => console.log(event)
        );

        timeSlider.addEventListener(
            Autodesk.DataVisualization.UI.TIME_SLIDER_CONTROL_TIME_RANGE_UPDATED_EVENT,
            (event) => console.log(event)
        );

        timeSlider.addEventListener(
            Autodesk.DataVisualization.UI.TIME_SLIDER_CONTROL_CURRENT_TIME_UPDATED_EVENT,
            (event) => console.log(event)
        );

        timeSlider.initialize();
    </script>
</body>

</html>